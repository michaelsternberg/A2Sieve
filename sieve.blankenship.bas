1000 REM *** SIEVE OF ERATOSTHENES ***
1010 COMPILE
1020 DIM A(4096)

2000 REM *** MAIN ***
2010 HOME
2020 PERFORM "Initialize"
2030 PERFORM "Process"
2040 PERFORM "Display Results"
2050 END

3000 DEFINE "Initialize"
3010 PRINT "INITIALIZING..."
3020 FOR I = 2 TO 4096
3030   A(I) = 1
3040 NEXT
3050 FINISH

4000 DEFINE "Process"
4010 PRINT "PROCESSING..."
4020 FOR I = 2 TO 64
4030   WHEN A(I) = 1 THEN
4040     FOR J = I * I TO 4096 STEP I
4050       A(J) = 0
4060     NEXT
4070   ENDWHEN
4080 NEXT
4090 FINISH

5000 DEFINE "Display Results"
5010 FOR I = 2 TO 4096
5020   IF A(I) = 1 THEN PRINT I; " ";
5030 NEXT
5040 FINISH
